{deps, [{ex_uri, "\.*", {git, "git://github.com/inaka/ex_uri.git", "HEAD"}},
        {jsx, "\.*", {git, "git://github.com/inaka/jsx.git", "HEAD"}},
        {misultin, "\.*", {git, "git://github.com/inaka/misultin.git", "HEAD"}},
        {ossp_uuid, "\.*", {git, "git://github.com/inaka/erlang-ossp-uuid.git", "HEAD"}},
        %% Testing-only dep
        {proper, "1.0", {git, "git://github.com/manopapad/proper.git", "HEAD"}}]}.

{erl_opts, [{src_dirs, ["src", "test"]},
            warn_unused_vars,
            warn_export_all,
            warn_shadow_vars,
            warn_unused_import,
            warn_unused_function,
            warn_bif_clash,
            warn_unused_record,
            warn_deprecated_function,
            warn_obsolete_guard,
            strict_validation,
            warn_export_vars,
            warn_exported_vars,
            %            warn_missing_spec,
            %            warn_untyped_record,
            debug_info,
            {d, 'COMPILING_WITH_REBAR_AND_ERLC_HATES_DEPS'},
            {i, "deps/ex_uri/include"}, {i, "../ex_uri/include"}]}.
{dialyzer_opts, [{warnings, [unmatched_returns, error_handling, race_conditions, behaviours]}]}.
{xref_checks, [undefined_function_calls]}.

%% Hooks
{pre_hooks, [{eunit, "wget https://github.com/LearnBoost/Socket.IO/raw/master/socket.io.js -O priv/Socket.IO/socket.io.js"}]}.
{post_hooks, [{'get-deps', "git submodule init"},
              {'get-deps', "git submodule update"},
              {'delete-deps', "rm -rf priv/Socket.IO/* priv/Socket.IO/.git*"}]}.

